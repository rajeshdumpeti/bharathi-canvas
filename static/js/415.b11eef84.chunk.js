"use strict";(self.webpackChunkmy_app_=self.webpackChunkmy_app_||[]).push([[415],{2415:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var l=s(5043),r=s(9379),n=s(7893),o=s(4858),a=s(579);function i(e){if(!e)return(new Date).toLocaleDateString("en-GB");try{return new Date(e).toLocaleDateString("en-GB")}catch(t){return e}}function d(e){var t,s,l,n,d,c,u,x;let{task:m,onSave:h,onCancel:g}=e;const{register:p,handleSubmit:b,formState:{errors:f,isSubmitting:j}}=(0,o.mN)({defaultValues:{title:null!==(t=m.title)&&void 0!==t?t:"",description:null!==(s=m.description)&&void 0!==s?s:"",acceptanceCriteria:null!==(l=m.acceptanceCriteria)&&void 0!==l?l:"",assignee:null!==(n=m.assignee)&&void 0!==n?n:"",priority:null!==(d=m.priority)&&void 0!==d?d:"Low",architecture:null!==(c=m.architecture)&&void 0!==c?c:"FE",createdAt:null!==(u=m.createdAt)&&void 0!==u?u:(v=new Date,v.toISOString().slice(0,10)),dueDate:null!==(x=m.dueDate)&&void 0!==x?x:"",id:m.id,project:m.project,status:m.status,storyId:m.storyId}});var v;return(0,a.jsxs)("form",{onSubmit:b(e=>{var t,s,l,n;h((0,r.A)((0,r.A)({},e),{},{id:null!==(t=m.id)&&void 0!==t?t:e.id,project:null!==(s=m.project)&&void 0!==s?s:e.project,status:null!==(l=m.status)&&void 0!==l?l:e.status,storyId:null!==(n=m.storyId)&&void 0!==n?n:e.storyId}))}),className:"p-6",children:[(0,a.jsx)("div",{className:"mb-5",children:(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full bg-indigo-50 text-indigo-700 border border-indigo-100 px-3 py-1 text-sm font-medium",children:[(0,a.jsx)("span",{children:"User Story"}),(0,a.jsx)("span",{className:"font-semibold",children:m.storyId?m.storyId:"Will be assigned on save"})]})}),(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Title"}),(0,a.jsx)("input",(0,r.A)((0,r.A)({},p("title",{required:"Title is required"})),{},{type:"text",placeholder:"Task Title",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"})),f.title&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:f.title.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Technology"}),(0,a.jsxs)("select",(0,r.A)((0,r.A)({},p("architecture")),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all",children:[(0,a.jsx)("option",{value:"FE",children:"Frontend"}),(0,a.jsx)("option",{value:"BE",children:"Backend"}),(0,a.jsx)("option",{value:"DB",children:"Database"}),(0,a.jsx)("option",{value:"ARCH",children:"Architecture"}),(0,a.jsx)("option",{value:"MISC",children:"Miscellaneous"})]}))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Acceptance Criteria"}),(0,a.jsx)("textarea",(0,r.A)((0,r.A)({},p("acceptanceCriteria")),{},{placeholder:"As a user, I want..., so that...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"}))]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Description"}),(0,a.jsx)("textarea",(0,r.A)((0,r.A)({},p("description")),{},{placeholder:"Detailed description...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"}))]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Assignee"}),(0,a.jsx)("input",(0,r.A)((0,r.A)({},p("assignee")),{},{type:"text",placeholder:"Assignee Name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"}))]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Priority"}),(0,a.jsxs)("select",(0,r.A)((0,r.A)({},p("priority")),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all",children:[(0,a.jsx)("option",{value:"High",children:"High"}),(0,a.jsx)("option",{value:"Medium",children:"Medium"}),(0,a.jsx)("option",{value:"Low",children:"Low"})]}))]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Created on"}),(0,a.jsx)("p",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:i(m.createdAt)}),(0,a.jsx)("input",(0,r.A)({type:"hidden"},p("createdAt")))]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Complete by"}),(0,a.jsx)("input",(0,r.A)((0,r.A)({type:"date"},p("dueDate")),{},{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all"}))]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between space-x-4 mt-6",children:[(0,a.jsx)("button",{type:"button",onClick:g,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:j,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold disabled:opacity-60",children:"Save Task"})]})]})}const c=e=>{let{onSave:t,onCancel:s}=e;const[r,n]=(0,l.useState)("");return(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(r)},className:"p-6",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add New Column"}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Column Title"}),(0,a.jsx)("input",{type:"text",value:r,onChange:e=>n(e.target.value),placeholder:"e.g., Backlog",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all",required:!0})]})}),(0,a.jsxs)("div",{className:"flex justify-between space-x-4 mt-6",children:[(0,a.jsx)("button",{type:"button",onClick:s,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold",children:"Add Column"})]})]})},u={High:"border-l-4 border-red-500",Medium:"border-l-4 border-yellow-500",Low:"border-l-4 border-green-500"},x=e=>{let{task:t,onDragStart:s,onEdit:l}=e;return(0,a.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-sm cursor-grab ".concat(u[t.priority]," transition-transform duration-200 hover:scale-[1.02]"),draggable:!0,onDragStart:s,onClick:l,children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[t.storyId&&(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs bg-blue-50 text-blue-700",children:t.storyId}),t.architecture&&(0,a.jsx)("span",{className:"inline-block px-2 py-0.5 text-xs font-semibold rounded-full bg-gray-200 text-gray-700",children:t.architecture})]}),(0,a.jsx)("h4",{className:"font-semibold text-gray-900",children:t.title}),t.description&&(0,a.jsx)("p",{className:"text-sm text-gray-600 break-words whitespace-pre-line mb-3",children:t.description}),(0,a.jsxs)("div",{className:"space-y-1 text-xs text-gray-500 mb-2",children:[(0,a.jsx)("p",{children:t.assignee?"Assigned to: ".concat(String(t.assignee)):"Unassigned"}),t.createdAt&&(0,a.jsxs)("p",{children:["Created on: ",t.createdAt]}),t.dueDate&&(0,a.jsxs)("p",{children:["Complete by: ",t.dueDate]})]})]})},m=e=>{let{title:t,id:s,tasks:l,onAddTask:r,onDrop:n,onDragOver:o,onDragStart:i,onEditTask:d,onConfirmDeleteTask:c,onConfirmDeleteColumn:u}=e;const m=l.filter(e=>e.status===s);return(0,a.jsxs)("div",{className:"flex-1 min-w-[280px] max-w-xs bg-gray-100 rounded-xl p-4 m-2 shadow-md transition-all duration-300 transform hover:shadow-xl md:flex-grow-0 md:min-w-[300px]",onDragOver:o,onDrop:e=>n(e,s),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:[t," (",m.length,")"]}),(0,a.jsx)("div",{className:"flex space-x-2",children:"To Do"===t?(0,a.jsx)("button",{onClick:()=>r(s),"aria-label":"Add task to ".concat(t),className:"p-1.5 rounded-full bg-blue-200 text-blue-600 hover:bg-blue-300 transition-colors",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}):null})]}),(0,a.jsx)("div",{className:"flex flex-col space-y-3 overflow-y-auto",style:{scrollbarWidth:"thin",scrollbarColor:"#E2E8F0 #F7FAFC"},children:0===m.length?(0,a.jsx)("div",{className:"text-sm text-gray-500 italic py-6 text-center select-none",children:"No tasks here yet \u2014 click the \u2795 to add one."}):m.map(e=>(0,a.jsx)(x,{task:e,onDragStart:t=>i(t,e.id),onEdit:()=>d(e),onDelete:c},e.id))})]})},h=e=>{let{projects:t,selectedProject:s,onSelectProject:r,onAddProject:n,isSidebarOpen:o,onToggleSidebar:i,tasks:d,onConfirmDeleteProject:c,onOpenDocuments:u}=e;const[x,m]=(0,l.useState)(""),h=d.filter(e=>s&&e.project===s.id),g=h.filter(e=>"to-do"===e.status).length,p=h.filter(e=>"in-progress"===e.status).length,b=h.filter(e=>"done"===e.status).length,f=h.length,j=f>0?Math.round(b/f*100):0,v=(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return(0,a.jsxs)("div",{className:"flex flex-col h-full min-h-0 transition-all duration-300 pt-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"Projects"}),(0,a.jsx)("button",{onClick:i,className:"p-2 lg:hidden rounded-lg hover:bg-gray-700 transition-colors","aria-label":"Close sidebar",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsx)("ul",{className:"flex-1 space-y-2 mb-6 overflow-y-auto max-h-full min-h-0 pr-2 custom-scrollbar",children:0===t.length?(0,a.jsx)("li",{className:"p-2 rounded-lg bg-gray-800/70 text-gray-300 text-sm select-none",children:"Your project goes here"}):t.map(e=>(0,a.jsxs)("li",{className:"flex items-center justify-between p-2 rounded-lg cursor-pointer transition-colors ".concat((null===s||void 0===s?void 0:s.id)===e.id?"bg-blue-600 text-white":"hover:bg-gray-700"),children:[(0,a.jsx)("span",{onClick:()=>{r(e),i()},className:"flex-1 pr-2",children:e.name}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),c(e)},className:"p-1 rounded-full text-gray-400 hover:text-red-500 transition-colors",title:"Delete Project","aria-label":"Delete project ".concat(e.name),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},e.id))}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();const s=(x||"").trim();if(!s)return;t.some(e=>e.name.trim().toLowerCase()===s.toLowerCase())||(n(s),m(""))},className:"mb-6 space-y-2",children:[(0,a.jsx)("input",{type:"text",value:x,onChange:e=>m(e.target.value),placeholder:"New project name",className:"w-full p-2 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)("button",{type:"submit",disabled:!x.trim(),className:"w-full py-2 rounded-lg font-semibold transition\n            ".concat(x.trim()?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-600 text-gray-300 cursor-not-allowed"),children:"Add"})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-800 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"Dashboard"}),(0,a.jsxs)("p",{className:"text-sm mb-1",children:["Total Tasks: ",(0,a.jsx)("span",{className:"font-bold",children:f})]}),(0,a.jsxs)("ul",{className:"text-xs space-y-1 mb-2",children:[(0,a.jsxs)("li",{children:["To Do: ",g]}),(0,a.jsxs)("li",{children:["In Progress: ",p]}),(0,a.jsxs)("li",{children:["Done: ",b]})]}),(0,a.jsxs)("p",{className:"text-sm font-semibold",children:["Progress: ",j,"% Done"]}),(0,a.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2.5 mt-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"".concat(j,"%")}})}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-4",children:v})]})]})};var g=s(8424),p=s(5352);const b=[{id:"to-do",title:"To Do"},{id:"in-progress",title:"In Progress"},{id:"validation",title:"Validation"},{id:"done",title:"Done"}],f=()=>{const[e,t]=(0,l.useState)([]),[s,o]=(0,l.useState)([]),[i,u]=(0,l.useState)([]),[x,f]=(0,l.useState)(null),[j,v]=(0,l.useState)(!1),[y,w]=(0,l.useState)(!1),[N,k]=(0,l.useState)(!1),[C,S]=(0,l.useState)(!1),[A,D]=(0,l.useState)(null),[I,L]=(0,l.useState)(null),[P,R]=(0,l.useState)(!0),[G,T]=(0,l.useState)(null),[E,O]=(0,l.useState)(!1),[B,F]=(0,l.useState)(!1),[M,H]=(0,l.useState)(null),U=(0,l.useRef)(null),W=(0,l.useRef)({}),z=e=>{U.current&&U.current.scrollBy({left:e,behavior:"smooth"})};(0,l.useEffect)(()=>{R(!0);try{const e=g.IG.get(g.lR,"projects",[]),s=g.IG.get(g.lR,"tasks",[]),l=g.IG.get(g.lR,"selectedProjectId",null),n=new Set(["to-do","in-progress","validation","done"]),a=(s||[]).map(e=>{const t="string"===typeof e.status&&n.has(e.status)?e.status:"to-do";return(0,r.A)((0,r.A)({},e),{},{status:t})});if(t(a),JSON.stringify(a)!==JSON.stringify(s)&&g.IG.set(g.lR,"tasks",a),u(e),e.length){const t=e.find(e=>e.id===l)||null;f(t),o((null===t||void 0===t?void 0:t.columns)||[])}else f(null),o([])}catch(e){console.error("Error loading board data:",e)}finally{R(!1)}},[]),(0,l.useEffect)(()=>{const e=()=>v(e=>!e);return window.addEventListener("app:toggleSidebar",e),()=>window.removeEventListener("app:toggleSidebar",e)},[]);const q=(e,t)=>{e.dataTransfer.setData("taskId",t)},_=e=>e.preventDefault(),V=(s,l)=>{s.preventDefault();const n=s.dataTransfer.getData("taskId"),o=(new Date).toISOString(),a=e.map(e=>{var t;if(e.id!==n)return e;const s="done"===e.status,a="done"===l;return(0,r.A)((0,r.A)({},e),{},{status:l,completedAt:a&&!s?o:null!==(t=e.completedAt)&&void 0!==t?t:null})});t(a),g.IG.set(g.lR,"tasks",a)},Y=e=>{if(!x)return;const t=e&&"object"===typeof e&&("nativeEvent"in e||"target"in e)?"to-do":"string"===typeof e?e:"to-do";L({id:"temp-".concat(Date.now()),status:t,title:"",description:"",assignee:"",priority:"Low",architecture:"FE",project:x.id,acceptanceCriteria:""}),w(!0)},J=e=>{L(e),w(!0)},K=e=>{D(e),S(!0)},Q=e=>{T(e),O(!0)},X=e=>{const t=g.IG.get(g.lR,"storySeq",{}),s=Number(t[e]||234567),l="US".concat(s);return t[e]=s+1,g.IG.set(g.lR,"storySeq",t),l};return(0,a.jsxs)("div",{className:"h-full w-full flex flex-col bg-gray-50 font-sans text-gray-800",children:[(0,a.jsx)("div",{className:"flex-1 min-h-0 w-full",children:(0,a.jsxs)("div",{className:"relative h-full w-full flex overflow-hidden",children:[(0,a.jsx)("div",{onClick:()=>v(!1),className:"lg:hidden fixed inset-0 z-20 bg-black/40 transition-opacity duration-300 ".concat(j?"opacity-100":"opacity-0 pointer-events-none")}),(0,a.jsx)("aside",{"aria-label":"Documents sidebar",className:"\n              fixed lg:static inset-y-0 left-0 z-30 w-64 bg-gray-900 text-white\n              border-r border-gray-800 overflow-y-auto shrink-0\n              transform transition-transform duration-300 ease-in-out\n              ".concat(j?"translate-x-0":"-translate-x-full","\n              lg:translate-x-0 lg:transform-none\n            "),children:(0,a.jsx)("div",{className:"h-full p-4",children:(0,a.jsx)(h,{projects:i,selectedProject:x,onSelectProject:e=>{var t;f(e),o(null!==(t=null===e||void 0===e?void 0:e.columns)&&void 0!==t?t:b),null!==e&&void 0!==e&&e.id?g.IG.set(g.lR,"selectedProjectId",e.id):g.IG.remove(g.lR,"selectedProjectId")},onAddProject:e=>{if(!e)return;const t={id:"".concat(e.toLowerCase().replace(/\s+/g,"-"),"-").concat(Date.now()),name:e,columns:[...b]},s=[...i,t];u(s),g.IG.set(g.lR,"projects",s),f(t),o([...b]),g.IG.set(g.lR,"selectedProjectId",t.id)},onConfirmDeleteProject:e=>{H(e),F(!0)},isSidebarOpen:j,onToggleSidebar:()=>v(!j),tasks:e})})}),(0,a.jsx)("main",{className:"flex-1 min-w-0 h-full overflow-auto",children:(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsx)("div",{className:"bg-white border-b",children:x&&(0,a.jsxs)("div",{className:"mx-auto w-full max-w-7xl flex flex-col sm:flex-row sm:items-center sm:justify-between py-2 px-2 gap-3",children:[" ",(0,a.jsxs)("div",{className:"flex w-full justify-between sm:justify-start sm:gap-2",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:x?"".concat(x.name," Project"):"Welcome"}),(0,a.jsx)("button",{onClick:()=>Y("to-do"),className:"px-4 py-2 rounded-lg shadow-md font-semibold bg-blue-500 text-white hover:bg-blue-600",children:"Create Story"})]}),(0,a.jsxs)("div",{className:"flex w-full justify-between sm:justify-end sm:gap-2",children:[(0,a.jsx)(p.N_,{to:"/board/stories",className:"px-4 py-2 rounded-lg border bg-white text-gray-700 hover:bg-gray-50 shadow-sm",title:"View all stories",children:"US LookUp"}),(0,a.jsxs)("button",{onClick:()=>x&&k(!0),disabled:!x,className:"px-2 py-2 rounded-lg shadow-md font-semibold flex items-center ".concat(x?"bg-green-500 text-white hover:bg-green-600":"bg-gray-200 text-gray-400 cursor-not-allowed"),children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Column"]})]})]})}),P?(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center text-xl text-gray-600",children:"Loading board..."}):x?(0,a.jsxs)("div",{className:"flex-1 min-h-0 flex flex-col",children:[(0,a.jsx)("div",{className:"bg-white border-b sticky top-0 z-10",children:(0,a.jsxs)("div",{className:"mx-auto w-full max-w-7xl flex items-center gap-3 py-2",children:[(0,a.jsx)("button",{"aria-label":"Scroll left",onClick:()=>z(-320),className:"".concat(s.length>1?"flex":"hidden"," h-8 w-8 shrink-0 items-center justify-center rounded-full border bg-white hover:bg-gray-50"),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M12.293 15.707a1 1 0 010-1.414L8.414 10l3.879-4.293a1 1 0 10-1.586-1.414l-5 5a1 1 0 000 1.414l5 5a1 1 0 001.586-1.414z",clipRule:"evenodd"})})}),(0,a.jsx)("div",{className:"relative flex-1 overflow-hidden",children:(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto tabs-scrollbar",children:s.map(e=>(0,a.jsx)("button",{onClick:()=>(e=>{const t=W.current[e];if(!t||!U.current)return;const s=U.current,l=t.offsetLeft-16;s.scrollTo({left:l,behavior:"smooth"})})(e.id),className:"px-3 py-1.5 rounded-full text-sm border bg-gray-50 hover:bg-white hover:shadow-sm whitespace-nowrap",children:e.title},"tab-".concat(e.id)))})}),(0,a.jsx)("button",{"aria-label":"Scroll right",onClick:()=>z(320),className:"".concat(s.length>1?"flex":"hidden"," h-8 w-8 shrink-0 items-center justify-center rounded-full border bg-white hover:bg-gray-50"),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M7.707 4.293a1 1 0 010 1.414L11.586 10l-3.879 4.293a1 1 0 101.586 1.414l5-5a1 1 0 000-1.414l-5-5a1 1 0 00-1.586 0z",clipRule:"evenodd"})})})]})}),(0,a.jsx)("div",{className:"flex-1 min-h-0",children:(0,a.jsx)("div",{ref:U,className:"mx-auto w-full max-w-7xl h-full px-4 py-2 overflow-x-auto overflow-y-visible board-scrollbar",children:(0,a.jsx)("div",{className:"flex flex-row gap-2 pb-6",children:s.map(t=>{return(0,a.jsx)("div",{ref:(s=t.id,e=>{W.current[s]=e}),className:"min-w-[320px] max-w-[360px]",children:(0,a.jsx)(m,{id:t.id,title:t.title,tasks:e.filter(e=>x&&e.project===x.id),onAddTask:Y,onDrop:V,onDragOver:_,onDragStart:q,onEditTask:J,onConfirmDeleteTask:K,onConfirmDeleteColumn:Q})},"wrap-".concat(t.id));var s})})})})]}):(0,a.jsx)(n.pp,{title:"Create your first project",description:(0,a.jsxs)(a.Fragment,{children:["Use the"," ",(0,a.jsx)("span",{className:"font-medium",children:"\u201cNew project name\u201d"})," ","field in the left sidebar to add a project. Once created, we\u2019ll auto-add the columns ",(0,a.jsx)("em",{children:"To Do"}),","," ",(0,a.jsx)("em",{children:"In Progress"}),", and ",(0,a.jsx)("em",{children:"Done"}),"."]}),bullets:["Your projects appear in the left panel.","Click a project to open its board here.","Use \u201cAdd Column\u201d to customize the workflow."]})]})})]})}),(0,a.jsx)(n.aF,{isOpen:y,onClose:()=>w(!1),title:I&&I.id?"Edit Story":"New Story",className:"bg-white rounded-xl shadow-lg p-6",children:(0,a.jsx)(d,{task:I||{id:"temp-".concat(Date.now()),title:"",description:"",assignee:"",priority:"Low",architecture:"FE",project:(null===x||void 0===x?void 0:x.id)||"",status:"to-do"},onSave:s=>{const l=!s.id||s.id.startsWith("temp-"),n=(0,r.A)((0,r.A)({},s),{},{id:l?"task-".concat(Date.now()):s.id,project:(null===x||void 0===x?void 0:x.id)||s.project,storyId:s.storyId||(l&&x?X(x.id):s.storyId),acceptanceCriteria:s.acceptanceCriteria||""});let o;o=I&&!l?e.map(e=>e.id===n.id?(0,r.A)({},n):e):[...e,n],t(o),g.IG.set(g.lR,"tasks",o),w(!1),L(null)},onCancel:()=>w(!1)})}),(0,a.jsx)(n.aF,{isOpen:N,onClose:()=>k(!1),title:"Add Column",className:"bg-white rounded-xl shadow-lg p-6",children:(0,a.jsx)(c,{onSave:e=>{if(!e||!x)return;const t=[...s,{id:e.toLowerCase().replace(/\s+/g,"-"),title:e}];o(t);const l=i.map(e=>e.id===x.id?(0,r.A)((0,r.A)({},e),{},{columns:t}):e);u(l),g.IG.set(g.lR,"projects",l),f(e=>e&&e.id===x.id?(0,r.A)((0,r.A)({},e),{},{columns:t}):e),k(!1)},onCancel:()=>k(!1)})}),(0,a.jsxs)(n.aF,{isOpen:C,onClose:()=>S(!1),title:"Confirm Delete",className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)("p",{className:"text-gray-700",children:"Are you sure you want to delete this task?"}),(0,a.jsxs)("div",{className:"flex justify-between space-x-4 mt-6",children:[(0,a.jsx)("button",{onClick:()=>S(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors duration-200",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{if(!A)return;const s=e.filter(e=>e.id!==A);t(s),g.IG.set(g.lR,"tasks",s),S(!1),D(null)},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200",children:"Delete"})]})]}),(0,a.jsxs)(n.aF,{isOpen:E,onClose:()=>O(!1),title:"Confirm Delete",className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)("p",{className:"text-gray-700",children:"Are you sure you want to delete this column and all its tasks? This action cannot be undone."}),(0,a.jsxs)("div",{className:"flex justify-between space-x-4 mt-6",children:[(0,a.jsx)("button",{onClick:()=>O(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors duration-200",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{if(!x||!G)return;const l=s.filter(e=>e.id!==G),n=e.filter(e=>e.status!==G);o(l),t(n);const a=i.map(e=>e.id===x.id?(0,r.A)((0,r.A)({},e),{},{columns:l}):e);u(a),g.IG.set(g.lR,"projects",a),g.IG.set(g.lR,"tasks",n),O(!1),T(null)},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200",children:"Delete"})]})]}),(0,a.jsxs)(n.aF,{isOpen:B,onClose:()=>F(!1),title:"Confirm Delete Project",className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsxs)("p",{className:"text-gray-700",children:['Are you sure you want to delete the project "',null===M||void 0===M?void 0:M.name,'"? This will permanently delete all associated tasks.']}),(0,a.jsxs)("div",{className:"flex justify-between space-x-4 mt-6",children:[(0,a.jsx)("button",{onClick:()=>F(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors duration-200",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{if(!M)return;const s=i.filter(e=>e.id!==M.id),l=e.filter(e=>e.project!==M.id);u(s),t(l),g.IG.set(g.lR,"projects",s),g.IG.set(g.lR,"tasks",l);const r=s[0]||null;f(r),o((null===r||void 0===r?void 0:r.columns)||b),r?g.IG.set(g.lR,"selectedProjectId",r.id):g.IG.remove(g.lR,"selectedProjectId"),F(!1),H(null)},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200",children:"Delete"})]})]})]})};function j(){return(0,a.jsx)(f,{})}},4024:(e,t,s)=>{s.d(t,{A:()=>n});var l=s(5043),r=s(579);const n=e=>{let{value:t,onChange:s,placeholder:n="Add and press Enter",className:o="",dedupe:a=!0}=e;const[i,d]=(0,l.useState)(""),c=(0,l.useRef)(null),u=e=>{const l=e.split(/[,;]/g).map(e=>e.trim()).filter(Boolean);if(!l.length)return;const r=new Set(t),n=a?[...new Set([...t,...l])]:[...t,...l];(n.length!==t.length||l.some(e=>!r.has(e)))&&s(n),d("")};return(0,r.jsxs)("div",{className:["flex flex-wrap gap-2 rounded border bg-white px-2 py-2",o].join(" "),onClick:()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.focus()},children:[t.map((e,l)=>(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-100 px-2 py-0.5 text-xs text-gray-800",children:[e,(0,r.jsx)("button",{type:"button","aria-label":"Remove ".concat(e),className:"rounded p-0.5 hover:bg-gray-200",onClick:()=>(e=>{var l;const r=t.filter((t,s)=>s!==e);s(r),null===(l=c.current)||void 0===l||l.focus()})(l),children:"\u2715"})]},"".concat(e,"-").concat(l))),(0,r.jsx)("input",{ref:c,value:i,onChange:e=>d(e.target.value),onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),u(i)):"Backspace"===e.key&&!i&&t.length?s(t.slice(0,-1)):","!==e.key&&";"!==e.key||(e.preventDefault(),u(i))},onBlur:()=>(e=>{const l=e.trim();if(!l)return;const r=a?Array.from(new Set([...t,l])):[...t,l];s(r),d("")})(i),placeholder:t.length?"":n,className:"min-w-[8ch] flex-1 outline-none text-sm placeholder:text-gray-400 bg-transparent"})]})}},5107:(e,t,s)=>{s.d(t,{A:()=>r});s(5043);var l=s(579);const r=e=>{let{children:t,onClick:s,type:r="button",className:n="",title:o,disabled:a}=e;return(0,l.jsx)("button",{type:r,title:o,disabled:a,onClick:s,className:["inline-flex items-center gap-1 rounded border px-3 py-1.5 text-sm","bg-white hover:bg-gray-50 text-gray-700","disabled:opacity-60 disabled:cursor-not-allowed",n].join(" "),children:t})}},6041:(e,t,s)=>{s.d(t,{A:()=>r});s(5043);var l=s(579);const r=e=>{let{isOpen:t,onClose:s,title:r,children:n,className:o="bg-white rounded-xl shadow-lg p-6",closeOnBackdrop:a=!0}=e;return t?(0,l.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:a?s:void 0}),(0,l.jsx)("div",{className:"absolute left-1/2 top-20 -translate-x-1/2 w-full max-w-lg",children:(0,l.jsxs)("div",{className:"relative bg-white rounded-xl shadow-lg max-h-[90vh] md:max-h-[80vh] overflow-y-auto ".concat(o),role:"dialog","aria-modal":!0,children:[r&&(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold",children:r}),(0,l.jsx)("button",{"aria-label":"Close modal",onClick:s,className:"rounded p-1 hover:bg-gray-100",children:"\u2715"})]}),n]})})]}):null}},7002:(e,t,s)=>{s.d(t,{A:()=>r});var l=s(9930);function r(){const e=(0,l.vw)();if(!e)throw new Error("useProjectHub must be used within ProjectHubProvider");return e}},7893:(e,t,s)=>{s.d(t,{pp:()=>n,aF:()=>l.A});var l=s(6041),r=(s(5107),s(4024),s(9453),s(5043),s(7002),s(579));s(3198),s(1497);const n=e=>{let{title:t,description:s,bullets:l,action:n,className:o="rounded-xl border bg-white p-8"}=e;return(0,r.jsxs)("div",{className:o,children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:t}),s&&(0,r.jsx)("div",{className:"mt-2 text-gray-600 text-sm",children:s}),null!==l&&void 0!==l&&l.length?(0,r.jsx)("ul",{className:"mt-3 list-disc pl-5 space-y-1 text-sm text-gray-700",children:l.map((e,t)=>(0,r.jsx)("li",{children:e},t))}):null,n&&(0,r.jsx)("div",{className:"mt-4",children:n})]})}},9453:(e,t,s)=>{s.d(t,{A:()=>n});var l=s(5043),r=s(579);const n=e=>{let{value:t,className:s}=e;const[n,o]=(0,l.useState)(!1);return(0,r.jsxs)("div",{className:["inline-flex items-center gap-2",s].join(" "),children:[(0,r.jsx)("code",{className:"rounded bg-gray-100 px-2 py-1",children:n?t:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,r.jsx)("button",{type:"button",onClick:()=>o(e=>!e),className:"text-xs rounded border px-2 py-1 hover:bg-gray-50",children:n?"Hide":"Show"})]})}},9930:(e,t,s)=>{s.d(t,{Yt:()=>x,vw:()=>u});var l=s(9379),r=s(5043),n=s(8424),o=s(579);const a="projects",i="selectedProjectId";function d(e){n.IG.set(n.Cx,a,e)}const c=(0,r.createContext)(void 0),u=()=>(0,r.useContext)(c);function x(e){let{children:t}=e;const[s,u]=(0,r.useState)([]),[x,m]=(0,r.useState)(null),h=()=>u(n.IG.get(n.Cx,a,[]));(0,r.useEffect)(()=>{h(),m(n.IG.get(n.Cx,i,null))},[]),(0,r.useEffect)(()=>{x?n.IG.set(n.Cx,i,x):n.IG.remove(n.Cx,i)},[x]);const g=(0,r.useMemo)(()=>s.find(e=>e.id===x)||null,[s,x]),p={projects:s,selected:g,selectedId:x,setSelectedId:m,selectProject:e=>m(e),addProject:e=>{const t=(e||"").trim();if(!t)return null;if(s.some(e=>e.name.toLowerCase()===t.toLowerCase()))return null;const l="".concat(t.toLowerCase().replace(/\s+/g,"-"),"-").concat(Date.now()),r={id:l,name:t,sections:{}},n=[...s,r];return u(n),d(n),m(l),r},deleteProject:e=>{const t=s.filter(t=>t.id!==e);u(t),d(t),x===e&&m(null)},updateSection:(e,t)=>{if(!x)return;const r=s.map(s=>s.id!==x?s:(0,l.A)((0,l.A)({},s),{},{sections:(0,l.A)((0,l.A)({},s.sections||{}),{},{[e]:t})}));u(r),d(r)},refresh:h};return(0,o.jsx)(c.Provider,{value:p,children:t})}}}]);
//# sourceMappingURL=415.b11eef84.chunk.js.map