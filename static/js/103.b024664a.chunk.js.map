{"version":3,"file":"static/js/103.b024664a.chunk.js","mappings":"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","sources":["components/ui/ChipInput.tsx","components/ui/IconButton.tsx","components/ui/Modal.tsx","stores/docs.store.ts","features/documents/components/UploadCard.tsx","features/documents/components/DocumentsList.tsx","features/documents/components/DocxRenderer.tsx","features/documents/components/PreviewPane.tsx","features/documents/DocumentsView.tsx","app/documents/App.jsx","hooks/useProjectHub.ts","components/ui/EmptyState.tsx","components/ui/SecretText.tsx","features/projectHub/context.tsx"],"sourcesContent":["import React, { useRef, useState } from \"react\";\n\ntype Props = {\n  value: string[];\n  onChange: (next: string[]) => void;\n  placeholder?: string;\n  className?: string;\n  /** If true, trims and dedups automatically */\n  dedupe?: boolean;\n};\n\nconst ChipInput: React.FC<Props> = ({\n  value,\n  onChange,\n  placeholder = \"Add and press Enter\",\n  className = \"\",\n  dedupe = true,\n}) => {\n  const [draft, setDraft] = useState(\"\");\n  const inputRef = useRef<HTMLInputElement | null>(null);\n\n  const commit = (raw: string) => {\n    const v = raw.trim();\n    if (!v) return;\n    const next = dedupe ? Array.from(new Set([...value, v])) : [...value, v];\n    onChange(next);\n    setDraft(\"\");\n  };\n\n  const splitAndCommit = (raw: string) => {\n    const parts = raw\n      .split(/[,;]/g)\n      .map((s) => s.trim())\n      .filter(Boolean);\n    if (!parts.length) return;\n    const base = new Set(value);\n    const next = dedupe\n      ? [...new Set([...value, ...parts])]\n      : [...value, ...parts];\n    if (next.length !== value.length || parts.some((p) => !base.has(p))) {\n      onChange(next);\n    }\n    setDraft(\"\");\n  };\n\n  const onKeyDown: React.KeyboardEventHandler<HTMLInputElement> = (e) => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      // allow comma-separated on enter too\n      splitAndCommit(draft);\n    } else if (e.key === \"Backspace\" && !draft && value.length) {\n      // remove last chip\n      onChange(value.slice(0, -1));\n    } else if (e.key === \",\" || e.key === \";\") {\n      e.preventDefault();\n      splitAndCommit(draft);\n    }\n  };\n\n  const removeAt = (idx: number) => {\n    const next = value.filter((_, i) => i !== idx);\n    onChange(next);\n    // keep focus for fast editing\n    inputRef.current?.focus();\n  };\n\n  return (\n    <div\n      className={[\n        \"flex flex-wrap gap-2 rounded border bg-white px-2 py-2\",\n        className,\n      ].join(\" \")}\n      onClick={() => inputRef.current?.focus()}\n    >\n      {value.map((chip, i) => (\n        <span\n          key={`${chip}-${i}`}\n          className=\"inline-flex items-center gap-1 rounded-full bg-gray-100 px-2 py-0.5 text-xs text-gray-800\"\n        >\n          {chip}\n          <button\n            type=\"button\"\n            aria-label={`Remove ${chip}`}\n            className=\"rounded p-0.5 hover:bg-gray-200\"\n            onClick={() => removeAt(i)}\n          >\n            ✕\n          </button>\n        </span>\n      ))}\n\n      <input\n        ref={inputRef}\n        value={draft}\n        onChange={(e) => setDraft(e.target.value)}\n        onKeyDown={onKeyDown}\n        onBlur={() => commit(draft)}\n        placeholder={value.length ? \"\" : placeholder}\n        className=\"min-w-[8ch] flex-1 outline-none text-sm placeholder:text-gray-400 bg-transparent\"\n      />\n    </div>\n  );\n};\n\nexport default ChipInput;\n","import React from \"react\";\n\ntype Props = {\n  children: React.ReactNode;\n  onClick?: React.MouseEventHandler<HTMLButtonElement>;\n  type?: \"button\" | \"submit\" | \"reset\";\n  className?: string;\n  title?: string;\n  disabled?: boolean;\n};\n\nconst IconButton: React.FC<Props> = ({\n  children,\n  onClick,\n  type = \"button\",\n  className = \"\",\n  title,\n  disabled,\n}) => (\n  <button\n    type={type}\n    title={title}\n    disabled={disabled}\n    onClick={onClick}\n    className={[\n      \"inline-flex items-center gap-1 rounded border px-3 py-1.5 text-sm\",\n      \"bg-white hover:bg-gray-50 text-gray-700\",\n      \"disabled:opacity-60 disabled:cursor-not-allowed\",\n      className,\n    ].join(\" \")}\n  >\n    {children}\n  </button>\n);\n\nexport default IconButton;\n","import React from \"react\";\n\ntype ModalProps = {\n  isOpen: boolean;\n  onClose: () => void;\n  title?: string;\n  children: React.ReactNode;\n  className?: string;\n  /** Optional: close when clicking the scrim (default true) */\n  closeOnBackdrop?: boolean;\n};\n\nconst Modal: React.FC<ModalProps> = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  className = \"bg-white rounded-xl shadow-lg p-6\",\n  closeOnBackdrop = true,\n}) => {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50\">\n      <div\n        className=\"absolute inset-0 bg-black/50\"\n        onClick={closeOnBackdrop ? onClose : undefined}\n      />\n      <div className=\"absolute left-1/2 top-20 -translate-x-1/2 w-full max-w-lg\">\n        <div\n          className={`relative bg-white rounded-xl shadow-lg max-h-[90vh] md:max-h-[80vh] overflow-y-auto ${className}`}\n          role=\"dialog\"\n          aria-modal\n        >\n          {title && (\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className=\"text-lg font-semibold\">{title}</h3>\n              <button\n                aria-label=\"Close modal\"\n                onClick={onClose}\n                className=\"rounded p-1 hover:bg-gray-100\"\n              >\n                ✕\n              </button>\n            </div>\n          )}\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","// src/stores/docs.store.ts\nimport { create } from \"zustand\";\nimport { persist, createJSONStorage } from \"zustand/middleware\";\nimport { DOCS_NS } from \"packages/storage\";\nimport type { DocItem, DocUploadResult } from \"types/documents\";\n\nexport type DocsState = {\n  items: DocItem[];\n  selectedId: string | null;\n\n  pending: File[];\n  error: string;\n\n  // actions\n  setSelected: (id: string | null) => void;\n  clearSelectedIfDeleted: (deletedId: string) => void;\n\n  stageFiles: (files: File[]) => void;\n  clearPending: () => void;\n  setError: (msg: string) => void;\n  clearError: () => void;\n\n  addDocuments: (files: File[], project?: string) => Promise<void>;\n  deleteDocument: (doc: DocItem) => void;\n};\n\n// namespaced storage (stable reference)\nconst namespacedStorage = {\n  getItem: (name: string) => localStorage.getItem(`${DOCS_NS}:${name}`) ?? null,\n  setItem: (name: string, value: string) =>\n    localStorage.setItem(`${DOCS_NS}:${name}`, value),\n  removeItem: (name: string) => localStorage.removeItem(`${DOCS_NS}:${name}`),\n} as const;\n\nconst storage = createJSONStorage(() => namespacedStorage);\n\nconst MAX = 5 * 1024 * 1024;\nconst allowMimes = [\n  \"application/pdf\",\n  \"text/plain\",\n  \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n];\nconst byExtOK = (name: string) => /\\.(pdf|txt|docx)$/i.test(name);\n\nfunction readFileAsResult(file: File): Promise<DocUploadResult> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    const isTxt = file.type === \"text/plain\" || /\\.txt$/i.test(file.name);\n    if (isTxt) {\n      reader.onload = () =>\n        resolve({ kind: \"txt\", text: String(reader.result ?? \"\") });\n      reader.onerror = reject;\n      reader.readAsText(file);\n      return;\n    }\n    reader.onload = () =>\n      resolve({ kind: \"data\", dataURL: String(reader.result ?? \"\") });\n    reader.onerror = reject;\n    reader.readAsDataURL(file);\n  });\n}\n\nexport const useDocsStore = create<DocsState>()(\n  persist(\n    (set, get) => ({\n      items: [],\n      selectedId: null,\n      pending: [],\n      error: \"\",\n\n      setSelected: (id) =>\n        set((s) => (s.selectedId === id ? s : { selectedId: id })),\n\n      clearSelectedIfDeleted: (deletedId) => {\n        const { selectedId, items } = get();\n        if (selectedId === deletedId) {\n          const next = items.find((d) => d.id !== deletedId)?.id ?? null;\n          set({ selectedId: next });\n        }\n      },\n\n      stageFiles: (files) => {\n        if (!files?.length) return;\n        const cur = get().pending;\n        const key = (f: File) => `${f.name}-${f.size}`;\n        const existing = new Set(cur.map(key));\n        const merged = [...cur];\n        files.forEach((f) => {\n          if (!existing.has(key(f))) merged.push(f);\n        });\n        set({ pending: merged, error: \"\" });\n      },\n      clearPending: () => set({ pending: [] }),\n      setError: (msg) => set({ error: msg }),\n      clearError: () => set({ error: \"\" }),\n\n      addDocuments: async (files, project) => {\n        if (!files?.length) return;\n\n        // validation\n        for (const f of files) {\n          if (f.size > MAX) {\n            set({ error: `\"${f.name}\" is larger than 5 MB.` });\n            return;\n          }\n          if (!(allowMimes.includes(f.type) || byExtOK(f.name))) {\n            set({\n              error: `\"${f.name}\" is not a supported type (PDF, DOCX, TXT).`,\n            });\n            return;\n          }\n        }\n\n        try {\n          const results = await Promise.all(files.map(readFileAsResult));\n\n          const toAdd: DocItem[] = results.map((res, idx) => {\n            const f = files[idx];\n            return {\n              id: `${Date.now()}-${idx}-${Math.random().toString(36).slice(2, 7)}`,\n              name: f.name,\n              type:\n                f.type || (f.name.match(/\\.(\\w+)$/)?.[1] || \"\").toLowerCase(),\n              size: f.size,\n              createdAt: new Date().toISOString(),\n              dataURL: res.kind === \"data\" ? res.dataURL : null,\n              text: res.kind === \"txt\" ? res.text : null,\n\n              // ✅ associate to a project if provided\n              project, // optional in your DocItem type\n            };\n          });\n\n          const items = [...get().items, ...toAdd];\n          const selectedId = get().selectedId ?? items[0]?.id ?? null;\n\n          set({ items, selectedId, pending: [], error: \"\" });\n        } catch (e) {\n          console.error(e);\n          set({ error: \"Failed to read one or more files.\" });\n        }\n      },\n\n      deleteDocument: (doc) =>\n        set((s) => {\n          const next = s.items.filter((d) => d.id !== doc.id);\n          const nextSelected =\n            s.selectedId === doc.id ? (next[0]?.id ?? null) : s.selectedId;\n          // If nothing changed, return previous state (prevents useless notifications)\n          if (next === s.items && nextSelected === s.selectedId) return s;\n          return { items: next, selectedId: nextSelected };\n        }),\n    }),\n    {\n      name: `${DOCS_NS}:store`,\n      version: 1,\n      storage,\n      // ✅ Persist ONLY data, not actions. This avoids rehydrate/set loops.\n      partialize: (s) => ({\n        items: s.items,\n        selectedId: s.selectedId,\n      }),\n    }\n  )\n);\n","// features/documents/components/UploadCard.tsx\nimport React, { useMemo, useState } from \"react\";\nimport { useDocsStore, DocsState } from \"stores/docs.store\";\n\nconst MAX_MB = 5;\n\nconst UploadCard: React.FC = () => {\n  const addDocuments = useDocsStore((s: DocsState) => s.addDocuments);\n  const items = useDocsStore((s: DocsState) => s.items);\n\n  const projects = useMemo(() => {\n    const set = new Set<string>();\n    items.forEach((d) => {\n      const p = (d as any).project?.trim?.() ?? \"\";\n      if (p) set.add(p);\n    });\n    return Array.from(set).sort((a, b) => a.localeCompare(b));\n  }, [items]);\n\n  const [project, setProject] = useState<string>(\"\");\n\n  const onPickProject = (val: string) => {\n    if (val === \"__new__\") {\n      const name = window.prompt(\"New project name\");\n      if (!name) return;\n      setProject(name.trim());\n      return;\n    }\n    setProject(val === \"Unassigned\" ? \"\" : val);\n  };\n\n  const onFiles = async (files: FileList | null) => {\n    if (!files || !files.length) return;\n    addDocuments(Array.from(files), project);\n  };\n\n  return (\n    <div className=\"rounded-lg border border-gray-800 bg-gray-900 p-3\">\n      <h3 className=\"text-sm font-semibold text-gray-100\">Upload document</h3>\n\n      {/* Project select */}\n      <div className=\"mt-2\">\n        <label className=\"block text-xs text-gray-400 mb-1\">Project</label>\n        <select\n          className=\"w-full rounded-md bg-gray-800 border border-gray-700 px-2 py-1.5 text-sm text-gray-100\"\n          value={project || \"Unassigned\"}\n          onChange={(e) => onPickProject(e.target.value)}\n        >\n          <option value=\"Unassigned\">Unassigned</option>\n          {projects.map((p) => (\n            <option key={p} value={p}>\n              {p}\n            </option>\n          ))}\n          <option value=\"__new__\">➕ New project…</option>\n        </select>\n      </div>\n\n      <div className=\"mt-3 grid gap-2\">\n        <label className=\"flex h-24 cursor-pointer items-center justify-center rounded-md border-2 border-dashed border-gray-700 bg-gray-800/50 text-gray-200 hover:border-gray-600\">\n          <input\n            type=\"file\"\n            accept=\".pdf,.docx,.txt,application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,text/plain\"\n            className=\"hidden\"\n            multiple\n            onChange={(e) => onFiles(e.target.files)}\n          />\n          <div className=\"text-center\">\n            <div className=\"text-sm\">Drag & drop PDF / DOCX / TXT here</div>\n            <div className=\"text-[11px] text-gray-400\">\n              Max {MAX_MB} MB each\n            </div>\n          </div>\n        </label>\n\n        <button\n          onClick={() =>\n            document\n              .querySelector<HTMLInputElement>('input[type=\"file\"]')\n              ?.click?.()\n          }\n          className=\"inline-flex justify-center rounded-md bg-gray-800 px-3 py-2 text-sm text-gray-100 hover:bg-gray-700\"\n        >\n          Browse files\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default UploadCard;\n","// features/documents/components/DocumentsList.tsx\nimport React, { useMemo, useState } from \"react\";\nimport type { DocItem } from \"types/documents\";\n\nconst iconFor = (doc: DocItem) => {\n  if (/pdf/i.test(doc.type) || /\\.pdf$/i.test(doc.name)) return \"📄\";\n  if (/docx/i.test(doc.type) || /\\.docx$/i.test(doc.name)) return \"📝\";\n  return \"📃\";\n};\n\ntype Props = {\n  documents: DocItem[];\n  selectedId: string | null;\n  onSelect: (id: string) => void;\n  onConfirmDelete: (doc: DocItem) => void;\n\n  /** New: all distinct project names (derived in parent). */\n  projects: string[];\n  /** New: rename a project (parent updates all docs with oldName→newName). */\n  onRenameProject: (oldName: string, newName: string) => void;\n  /** New: move a single doc to a different (or new) project. */\n  onMoveDoc: (docId: string, project: string) => void;\n};\n\nfunction useGroups(docs: DocItem[]) {\n  return useMemo(() => {\n    const map = new Map<string, DocItem[]>();\n    for (const d of docs) {\n      const key =\n        (typeof (d as any).project === \"string\" && (d as any).project.trim()) ||\n        \"Unassigned\";\n      if (!map.has(key)) map.set(key, []);\n      map.get(key)!.push(d);\n    }\n    return Array.from(map.entries()).sort(([a], [b]) => {\n      if (a === \"Unassigned\") return 1;\n      if (b === \"Unassigned\") return -1;\n      return a.localeCompare(b);\n    });\n  }, [docs]);\n}\n\nconst Caret: React.FC<{ open: boolean }> = ({ open }) => (\n  <svg\n    viewBox=\"0 0 20 20\"\n    className={`h-4 w-4 transition-transform ${open ? \"rotate-90\" : \"\"}`}\n    fill=\"currentColor\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 111.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\n\nconst DocumentsList: React.FC<Props> = ({\n  documents,\n  selectedId,\n  onSelect,\n  onConfirmDelete,\n  projects,\n  onRenameProject,\n  onMoveDoc,\n}) => {\n  const groups = useGroups(documents);\n  const [open, setOpen] = useState<Record<string, boolean>>(() => {\n    const init: Record<string, boolean> = {};\n    groups.forEach(([k]) => (init[k] = true));\n    return init;\n  });\n\n  if (!documents.length) {\n    return (\n      <div>\n        <h3 className=\"text-sm font-semibold text-gray-100 mb-2\">Files</h3>\n        <p className=\"text-gray-400 text-sm\">No files yet.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <h3 className=\"text-sm font-semibold text-gray-100 mb-2\">Projects</h3>\n      <div className=\"space-y-2 overflow-y-auto max-h-[50vh] pr-1\">\n        {groups.map(([project, docs]) => {\n          const isOpen = open[project] ?? true;\n          const canRename = project !== \"Unassigned\";\n          return (\n            <div\n              key={project}\n              className=\"rounded-md border border-gray-800/60 bg-gray-900/50\"\n            >\n              {/* Project header */}\n              <div className=\"flex items-center justify-between px-2 py-2 rounded-t-md\">\n                <button\n                  className=\"flex items-center gap-2 text-left text-gray-100 truncate hover:opacity-90\"\n                  onClick={() => setOpen((s) => ({ ...s, [project]: !isOpen }))}\n                  title={project}\n                >\n                  <Caret open={isOpen} />\n                  <span className=\"truncate\">{project}</span>\n                </button>\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-xs text-gray-400\">{docs.length}</span>\n                  {canRename && (\n                    <button\n                      className=\"rounded px-1.5 py-0.5 text-xs bg-gray-800 hover:bg-gray-700\"\n                      title=\"Rename project\"\n                      onClick={() => {\n                        const next = window.prompt(\"Rename project\", project);\n                        if (!next) return;\n                        const trimmed = next.trim();\n                        if (!trimmed || trimmed === project) return;\n                        onRenameProject(project, trimmed);\n                      }}\n                    >\n                      Rename\n                    </button>\n                  )}\n                </div>\n              </div>\n\n              {/* Doc rows */}\n              {isOpen && (\n                <ul className=\"px-1 pb-1 space-y-1\">\n                  {docs.map((d) => (\n                    <li\n                      key={d.id}\n                      className={`flex items-center justify-between px-2 py-1.5 rounded-md cursor-pointer text-sm ${\n                        selectedId === d.id\n                          ? \"bg-blue-600 text-white\"\n                          : \"hover:bg-gray-800 text-gray-100\"\n                      }`}\n                    >\n                      <span\n                        onClick={() => onSelect(d.id)}\n                        className=\"flex-1 flex items-center gap-2 truncate pr-2\"\n                        title={d.name}\n                      >\n                        <span className=\"shrink-0\">{iconFor(d)}</span>\n                        <span className=\"truncate\">{d.name}</span>\n                      </span>\n\n                      {/* Move & Delete */}\n                      <div className=\"flex items-center gap-1\">\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            onConfirmDelete(d);\n                          }}\n                          className={`p-1 rounded ${\n                            selectedId === d.id\n                              ? \"hover:bg-blue-500/30\"\n                              : \"hover:bg-gray-700\"\n                          }`}\n                          title=\"Delete\"\n                          aria-label=\"Delete\"\n                        >\n                          <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            className=\"h-4 w-4\"\n                            viewBox=\"0 0 24 24\"\n                            fill=\"none\"\n                            stroke=\"currentColor\"\n                          >\n                            <path\n                              strokeLinecap=\"round\"\n                              strokeLinejoin=\"round\"\n                              strokeWidth=\"2\"\n                              d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n                            />\n                          </svg>\n                        </button>\n                      </div>\n                    </li>\n                  ))}\n                </ul>\n              )}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default DocumentsList;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport mammoth from \"mammoth\";\n\nfunction dataURLToArrayBuffer(dataURL: string): ArrayBuffer {\n  const base64 = dataURL.split(\",\")[1] || dataURL;\n  const binary = atob(base64);\n  const len = binary.length;\n  const bytes = new Uint8Array(len);\n  for (let i = 0; i < len; i++) bytes[i] = binary.charCodeAt(i);\n  return bytes.buffer;\n}\n\ntype Props = {\n  dataURL: string;\n  className?: string;\n};\n\nconst DocxRenderer: React.FC<Props> = ({\n  dataURL,\n  className = \"h-[70vh] overflow-auto rounded border bg-white p-4\",\n}) => {\n  const ref = useRef<HTMLDivElement | null>(null);\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    (async () => {\n      setError(\"\");\n      if (!ref.current || !dataURL) return;\n      ref.current.innerHTML = \"Loading…\";\n      try {\n        const arrayBuffer = dataURLToArrayBuffer(dataURL);\n        const { value: html } = await (mammoth as any).convertToHtml(\n          { arrayBuffer },\n          {\n            includeDefaultStyleMap: true,\n            styleMap: [\n              \"p[style-name='Heading 1'] => h1:fresh\",\n              \"p[style-name='Heading 2'] => h2:fresh\",\n            ],\n          }\n        );\n        ref.current.innerHTML =\n          html || '<div style=\"color:#6b7280\">Empty document</div>';\n      } catch (e) {\n        // eslint-disable-next-line no-console\n        console.error(e);\n        setError(\"Failed to render DOCX.\");\n        ref.current.innerHTML = \"\";\n      }\n    })();\n  }, [dataURL]);\n\n  return (\n    <div className={className}>\n      {error && <div className=\"mb-2 text-sm text-red-600\">{error}</div>}\n      <div ref={ref} className=\"prose max-w-none p-4\"></div>\n    </div>\n  );\n};\n\nexport default DocxRenderer;\n","import React from \"react\";\nimport DocxRenderer from \"./DocxRenderer\";\nimport { EmptyState } from \"packages/ui\";\nimport type { DocItem } from \"types/documents\";\n\nconst DocumentEmptyState: React.FC = () => (\n  <EmptyState\n    title=\"Add your first document\"\n    description={\n      <>\n        Use the <span className=\"font-medium\">“Upload Document”</span> card in\n        the left sidebar menu to add files. We’ll store them locally and show a\n        preview here.\n      </>\n    }\n    bullets={[\n      <>\n        Supported types: <code>PDF</code>, <code>DOCX</code>, <code>TXT</code>{\" \"}\n        (max 5&nbsp;MB each).\n      </>,\n      \"Your documents will appear in the list on the left.\",\n      \"Click a document to open its preview on this page.\",\n    ]}\n  />\n);\n\ntype Props = { doc: DocItem | null };\n\nconst PreviewPane: React.FC<Props> = ({ doc }) => {\n  if (!doc) return <DocumentEmptyState />;\n\n  const isPDF = /pdf/i.test(doc.type) || /\\.pdf$/i.test(doc.name);\n  const isTXT = /text\\/plain/i.test(doc.type) || /\\.txt$/i.test(doc.name);\n  const isDOCX = /docx/i.test(doc.type) || /\\.docx$/i.test(doc.name);\n\n  return (\n    <div className=\"rounded-lg border bg-white p-4\">\n      <div className=\"flex items-center justify-between mb-3\">\n        <h2 className=\"text-lg font-semibold truncate pr-4\">{doc.name}</h2>\n        <div className=\"text-xs text-gray-500\">\n          {(doc.size / 1024 / 1024).toFixed(2)} MB\n        </div>\n      </div>\n\n      {isPDF && doc.dataURL && (\n        <iframe\n          title={doc.name}\n          src={doc.dataURL}\n          className=\"w-full h-[70vh] rounded border\"\n        />\n      )}\n\n      {isTXT && (\n        <pre className=\"w-full h-[70vh] overflow-auto bg-gray-50 p-4 rounded text-sm whitespace-pre-wrap\">\n          {doc.text ?? \"(empty file)\"}\n        </pre>\n      )}\n\n      {isDOCX && doc.dataURL && (\n        <DocxRenderer\n          dataURL={doc.dataURL}\n          className=\"h-[70vh] overflow-auto rounded border bg-white\"\n        />\n      )}\n\n      {isDOCX && !doc.dataURL && (\n        <div className=\"p-6 text-center text-gray-600\">\n          Preview not available.\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PreviewPane;\n","// features/documents/DocumentsView.tsx\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { useShallow } from \"zustand/react/shallow\";\nimport { useDocsStore, DocsState } from \"stores/docs.store\";\nimport UploadCard from \"./components/UploadCard\";\nimport DocumentsList from \"./components/DocumentsList\";\nimport PreviewPane from \"./components/PreviewPane\";\nimport { Modal } from \"packages/ui\";\nimport type { DocItem } from \"types/documents\";\nimport { debounce } from \"lodash\";\n\nconst DocumentsView: React.FC = () => {\n  const { documents, selectedId } = useDocsStore(\n    useShallow((s: DocsState) => ({\n      documents: s.items,\n      selectedId: s.selectedId,\n    }))\n  );\n  const setSelected = useDocsStore((s: DocsState) => s.setSelected);\n  const deleteDoc = useDocsStore((s: DocsState) => s.deleteDocument);\n\n  // ⬇️ NEW: replace whole list (rename/move bulk ops)\n  const setItems = useDocsStore((s: DocsState) => (s as any).setItems);\n\n  const selectedDoc = useMemo<DocItem | null>(\n    () => documents.find((d) => d.id === selectedId) ?? null,\n    [documents, selectedId]\n  );\n\n  // Distinct project names (excluding empty/unassigned)\n  const projects = useMemo(() => {\n    const set = new Set<string>();\n    documents.forEach((d) => {\n      const p = (d as any).project?.trim?.() ?? \"\";\n      if (p) set.add(p);\n    });\n    const arr = Array.from(set).sort((a, b) => a.localeCompare(b));\n    if (!arr.includes(\"Unassigned\")) arr.unshift(\"Unassigned\");\n    return arr;\n  }, [documents]);\n\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [isDeleteDocOpen, setIsDeleteDocOpen] = useState(false);\n  const [docToDelete, setDocToDelete] = useState<DocItem | null>(null);\n\n  useEffect(() => {\n    const debouncedHandler = debounce(() => {\n      setIsSidebarOpen((prev) => !prev);\n    }, 250);\n    window.addEventListener(\"app:toggleSidebar\", debouncedHandler as any);\n    return () => {\n      debouncedHandler.cancel();\n      window.removeEventListener(\"app:toggleSidebar\", debouncedHandler as any);\n    };\n  }, []);\n\n  const confirmDeleteDocument = (doc: DocItem) => {\n    setDocToDelete(doc);\n    setIsDeleteDocOpen(true);\n  };\n\n  const handleDeleteDocument = () => {\n    if (!docToDelete) return;\n    deleteDoc(docToDelete);\n    if (selectedId === docToDelete.id) setSelected(null);\n    setIsDeleteDocOpen(false);\n    setDocToDelete(null);\n  };\n\n  // ⬇️ NEW: rename project (bulk update)\n  const renameProject = (oldName: string, newName: string) => {\n    if (!setItems) {\n      console.warn(\"docs.store: add setItems([...]) action to enable rename.\");\n      return;\n    }\n    const next = documents.map((d) => {\n      const p = (d as any).project?.trim?.() ?? \"\";\n      if (p === oldName) {\n        return { ...d, project: newName } as DocItem & { project?: string };\n      }\n      return d;\n    });\n    setItems(next as any);\n  };\n\n  // ⬇️ NEW: move doc to a project (can be empty string for Unassigned)\n  const moveDoc = (docId: string, project: string) => {\n    if (!setItems) {\n      console.warn(\"docs.store: add setItems([...]) action to enable move.\");\n      return;\n    }\n    const next = documents.map((d) =>\n      d.id === docId ? ({ ...d, project } as any) : d\n    );\n    setItems(next as any);\n  };\n\n  return (\n    <div className=\"h-full w-full flex flex-col bg-gray-50\">\n      <div className=\"flex-1 min-h-0 w-full\">\n        <div className=\"relative h-full w-full flex overflow-hidden\">\n          {/* mobile backdrop */}\n          <div\n            onClick={() => setIsSidebarOpen(false)}\n            className={`lg:hidden fixed inset-0 z-20 bg-black/40 transition-opacity duration-300 ${\n              isSidebarOpen ? \"opacity-100\" : \"opacity-0 pointer-events-none\"\n            }`}\n          />\n\n          {/* Sidebar */}\n          <aside\n            aria-label=\"Documents sidebar\"\n            className={`\n              fixed lg:static inset-y-0 left-0 z-30 w-72 bg-gray-900 text-white\n              border-r border-gray-800 overflow-y-auto shrink-0\n              transform transition-transform duration-300 ease-in-out\n              ${isSidebarOpen ? \"translate-x-0\" : \"-translate-x-full\"}\n              lg:translate-x-0 lg:transform-none\n            `}\n          >\n            <div className=\"h-full p-4 space-y-6\">\n              {/* Upload now supports project selection; see patch #3 */}\n              <UploadCard />\n              <DocumentsList\n                documents={documents}\n                selectedId={selectedId}\n                onSelect={(id) => {\n                  setSelected(id);\n                  if (window.innerWidth < 1024) setIsSidebarOpen(false);\n                }}\n                onConfirmDelete={confirmDeleteDocument}\n                projects={projects}\n                onRenameProject={renameProject}\n                onMoveDoc={moveDoc}\n              />\n            </div>\n          </aside>\n\n          {/* Main */}\n          <main className=\"flex-1 min-w-0 h-full overflow-auto\">\n            <div className=\"h-full flex flex-col\">\n              <div className=\"bg-white border-b\">\n                <div className=\"mx-auto w-full max-w-7xl flex items-center justify-between py-4 px-4\">\n                  <h1 className=\"text-2xl sm:text-3xl font-bold text-gray-900\">\n                    Documents\n                  </h1>\n                  {selectedDoc && (\n                    <div className=\"hidden sm:block text-sm text-gray-500\">\n                      {(selectedDoc as any).project\n                        ? `Project: ${(selectedDoc as any).project}`\n                        : \"Unassigned\"}\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"flex-1 overflow-auto\">\n                <PreviewPane doc={selectedDoc} />\n              </div>\n            </div>\n\n            {/* Delete modal */}\n            <Modal\n              isOpen={isDeleteDocOpen}\n              onClose={() => {\n                setIsDeleteDocOpen(false);\n                setDocToDelete(null);\n              }}\n              title=\"Delete document?\"\n            >\n              <p className=\"text-gray-700\">\n                {`Are you sure you want to delete “${\n                  docToDelete?.name || \"this file\"\n                }”? This action cannot be undone.`}\n              </p>\n              <div className=\"flex justify-between space-x-3 mt-6\">\n                <button\n                  onClick={() => {\n                    setIsDeleteDocOpen(false);\n                    setDocToDelete(null);\n                  }}\n                  className=\"px-4 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleDeleteDocument}\n                  className=\"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700\"\n                >\n                  Delete\n                </button>\n              </div>\n            </Modal>\n          </main>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DocumentsView;\n","import React from 'react';\nimport DocumentsView from '../../features/documents/DocumentsView';\n\nexport default function DocumentsApp() {\n    return <DocumentsView />;\n}\n","import { useProjectHubContext } from \"../features/projectHub/context\";\nimport type { ProjectHubContextValue } from \"../types/project-hub\";\n\nexport default function useProjectHub(): ProjectHubContextValue {\n  const ctx = useProjectHubContext();\n  if (!ctx)\n    throw new Error(\"useProjectHub must be used within ProjectHubProvider\");\n  return ctx;\n}\n","import React from \"react\";\n\ntype EmptyStateProps = {\n  title: string;\n  description?: React.ReactNode;\n  bullets?: React.ReactNode[];\n  action?: React.ReactNode; // e.g. a CTA button\n  className?: string;\n};\n\nconst EmptyState: React.FC<EmptyStateProps> = ({\n  title,\n  description,\n  bullets,\n  action,\n  className = \"rounded-xl border bg-white p-8\",\n}) => {\n  return (\n    <div className={className}>\n      <h2 className=\"text-2xl font-semibold text-gray-900\">{title}</h2>\n      {description && (\n        <div className=\"mt-2 text-gray-600 text-sm\">{description}</div>\n      )}\n      {bullets?.length ? (\n        <ul className=\"mt-3 list-disc pl-5 space-y-1 text-sm text-gray-700\">\n          {bullets.map((b, i) => (\n            <li key={i}>{b}</li>\n          ))}\n        </ul>\n      ) : null}\n      {action && <div className=\"mt-4\">{action}</div>}\n    </div>\n  );\n};\n\nexport default EmptyState;\n","import React, { useState } from \"react\";\n\ntype Props = {\n  value: string;\n  className?: string;\n};\n\nconst SecretText: React.FC<Props> = ({ value, className }) => {\n  const [show, setShow] = useState(false);\n  return (\n    <div className={[\"inline-flex items-center gap-2\", className].join(\" \")}>\n      <code className=\"rounded bg-gray-100 px-2 py-1\">\n        {show ? value : \"••••••••\"}\n      </code>\n      <button\n        type=\"button\"\n        onClick={() => setShow((s) => !s)}\n        className=\"text-xs rounded border px-2 py-1 hover:bg-gray-50\"\n      >\n        {show ? \"Hide\" : \"Show\"}\n      </button>\n    </div>\n  );\n};\n\nexport default SecretText;\n","import React, {\n  createContext,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\nimport { storage, HUB_NS } from \"../../packages/storage\";\nimport type {\n  HubProject,\n  ProjectHubContextValue,\n} from \"../../types/project-hub\";\n\nconst LIST_KEY = \"projects\"; // NOT \"hub:projects\" (ns already applied)\nconst SELECTED_KEY = \"selectedProjectId\";\n\nfunction loadProjects(): HubProject[] {\n  return storage.get<HubProject[]>(HUB_NS, LIST_KEY, []);\n}\nfunction persistProjects(list: HubProject[]) {\n  storage.set(HUB_NS, LIST_KEY, list);\n}\n\nexport const ProjectHubContext = createContext<\n  ProjectHubContextValue | undefined\n>(undefined);\nexport const useProjectHubContext = () => useContext(ProjectHubContext);\n\nexport function ProjectHubProvider({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const [projects, setProjects] = useState<HubProject[]>([]);\n  const [selectedId, setSelectedId] = useState<string | null>(null);\n\n  const refresh = () => setProjects(loadProjects());\n\n  useEffect(() => {\n    refresh();\n    setSelectedId(storage.get<string | null>(HUB_NS, SELECTED_KEY, null));\n  }, []);\n\n  useEffect(() => {\n    if (selectedId) storage.set(HUB_NS, SELECTED_KEY, selectedId);\n    else storage.remove(HUB_NS, SELECTED_KEY);\n  }, [selectedId]);\n\n  const selected = useMemo<HubProject | null>(\n    () => projects.find((p) => p.id === selectedId) || null,\n    [projects, selectedId]\n  );\n\n  const selectProject = (id: string | null) => setSelectedId(id);\n\n  const addProject = (name: string): HubProject | null => {\n    const n = (name || \"\").trim();\n    if (!n) return null;\n\n    // de-dup by case-insensitive name\n    if (projects.some((p) => p.name.toLowerCase() === n.toLowerCase()))\n      return null;\n\n    const id = `${n.toLowerCase().replace(/\\s+/g, \"-\")}-${Date.now()}`;\n    const proj: HubProject = { id, name: n, sections: {} };\n    const next = [...projects, proj];\n\n    setProjects(next);\n    persistProjects(next);\n    setSelectedId(id);\n    return proj;\n  };\n\n  // Hub-only delete (does NOT touch Board data)\n  const deleteProject = (id: string) => {\n    const next = projects.filter((p) => p.id !== id);\n    setProjects(next);\n    persistProjects(next);\n    if (selectedId === id) setSelectedId(null);\n  };\n\n  const updateSection = (sectionKey: string, data: unknown) => {\n    if (!selectedId) return;\n    const next = projects.map((p) =>\n      p.id !== selectedId\n        ? p\n        : { ...p, sections: { ...(p.sections || {}), [sectionKey]: data } }\n    );\n    setProjects(next);\n    persistProjects(next);\n  };\n\n  const value: ProjectHubContextValue = {\n    projects,\n    selected,\n    selectedId,\n    setSelectedId,\n    selectProject,\n    addProject,\n    deleteProject,\n    updateSection,\n    refresh,\n  };\n\n  return (\n    <ProjectHubContext.Provider value={value}>\n      {children}\n    </ProjectHubContext.Provider>\n  );\n}\n\nexport default function useProjectHub(): ProjectHubContextValue {\n  const ctx = useProjectHubContext();\n  if (!ctx)\n    throw new Error(\"useProjectHub must be used within ProjectHubProvider\");\n  return ctx;\n}\n"],"names":["_ref","value","onChange","placeholder","className","dedupe","draft","setDraft","useState","inputRef","useRef","splitAndCommit","raw","parts","split","map","s","trim","filter","Boolean","length","base","Set","next","some","p","has","_jsxs","join","onClick","_inputRef$current2","current","focus","children","chip","i","_jsx","type","concat","idx","_inputRef$current","_","removeAt","ref","e","target","onKeyDown","key","preventDefault","slice","onBlur","v","Array","from","commit","title","disabled","isOpen","onClose","closeOnBackdrop","undefined","role","namespacedStorage","getItem","name","_localStorage$getItem","localStorage","DOCS_NS","setItem","removeItem","storage","createJSONStorage","allowMimes","byExtOK","test","readFileAsResult","file","Promise","resolve","reject","reader","FileReader","onload","_reader$result","kind","text","String","result","onerror","readAsText","_reader$result2","dataURL","readAsDataURL","useDocsStore","create","persist","set","get","items","selectedId","pending","error","setSelected","id","clearSelectedIfDeleted","deletedId","_items$find$id","_items$find","find","d","stageFiles","files","cur","f","size","existing","merged","forEach","push","clearPending","setError","msg","clearError","addDocuments","async","project","includes","_get$selectedId","_items$","toAdd","all","res","_f$name$match","Date","now","Math","random","toString","match","toLowerCase","createdAt","toISOString","console","deleteDocument","doc","_next$0$id","_next$","nextSelected","version","partialize","UploadCard","projects","useMemo","_project$trim","_project","_project$trim2","call","add","sort","a","b","localeCompare","setProject","val","window","prompt","onPickProject","accept","multiple","onFiles","_document$querySelect","_document$querySelect2","document","querySelector","click","Caret","_ref3","open","viewBox","fill","fillRule","clipRule","_ref4","documents","onSelect","onConfirmDelete","onRenameProject","onMoveDoc","groups","docs","Map","entries","_ref2","setOpen","init","_ref5","k","_ref6","_open$project","canRename","_objectSpread","trimmed","stopPropagation","xmlns","stroke","strokeLinecap","strokeLinejoin","strokeWidth","useEffect","innerHTML","arrayBuffer","base64","binary","atob","len","bytes","Uint8Array","charCodeAt","buffer","dataURLToArrayBuffer","html","mammoth","includeDefaultStyleMap","styleMap","DocumentEmptyState","EmptyState","description","_Fragment","bullets","_doc$text","isPDF","isTXT","isDOCX","toFixed","src","DocxRenderer","DocumentsView","useShallow","deleteDoc","setItems","selectedDoc","_documents$find","arr","unshift","isSidebarOpen","setIsSidebarOpen","isDeleteDocOpen","setIsDeleteDocOpen","docToDelete","setDocToDelete","debouncedHandler","debounce","prev","addEventListener","cancel","removeEventListener","DocumentsList","innerWidth","renameProject","oldName","newName","warn","_project$trim3","_project2","_project2$trim","moveDoc","docId","PreviewPane","Modal","handleDeleteDocument","DocumentsApp","useProjectHub","ctx","useProjectHubContext","Error","action","show","setShow","LIST_KEY","SELECTED_KEY","persistProjects","list","HUB_NS","ProjectHubContext","createContext","useContext","ProjectHubProvider","setProjects","setSelectedId","refresh","remove","selected","selectProject","addProject","n","replace","proj","sections","deleteProject","updateSection","sectionKey","data","Provider"],"sourceRoot":""}